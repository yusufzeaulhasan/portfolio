<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Two-Stage CMOS Operational Amplifier | Yusuf Hasan</title>
  <link rel="stylesheet" href="../assets/style.css" />
</head>

<body>
  <header class="site-header">
    <div class="container">
      <div class="topbar">
        <div>
          <h1>Two-Stage CMOS Operational Amplifier</h1>
          <p class="subtitle">
            45 nm CMOS • fully differential + CMFB • stability and transient verification
          </p>
        </div>
        <nav class="nav">
          <a href="../index.html#projects">← Back</a>
          <a href="../index.html#contact">Contact</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="section">

      <!-- OVERVIEW -->
      <div class="card">
        <h3>Overview</h3>
        <p>
          Designed and simulated a two-stage CMOS operational amplifier in a 45 nm process using Cadence Virtuoso.
          The design consists of a fully differential first stage with common-mode feedback (CMFB), followed by
          a common-source second stage to achieve high gain and wide bandwidth under strict stability constraints.
        </p>
        <p>
          The amplifier was verified through DC operating point analysis, open- and closed-loop frequency response,
          and large-signal transient simulations.
        </p>
      </div>

      <!-- ARCHITECTURE -->
     <div class="card">
  <h3>Overall Topology</h3>

  <p>
    The amplifier follows a two-stage CMOS operational amplifier topology consisting of a
    fully differential first stage with common-mode feedback (CMFB), followed by a
    single-ended common-source second stage. This structure was selected to achieve
    high open-loop gain, wide bandwidth, and robust closed-loop stability.
  </p>

  <img
    src="images/OPAMP_topology.png"
    alt="Overall two-stage CMOS op-amp topology"
    class="evidence-image"
  >

  <p>
    The first stage provides the majority of the voltage gain and common-mode rejection,
    while the CMFB loop regulates the output common-mode voltage. The second stage
    increases output swing and drives the load, enabling stable operation at unity gain.
  </p>
</div>


      <!-- BIASING AND OPERATING POINTS -->
      <div class="card">
        <h3>Biasing and DC Operating Points</h3>
        <p>
          DC operating point analysis was performed to ensure all transistors operate in the intended region
          across the amplifier core and CMFB circuitry. Proper biasing is critical for achieving the desired
          small-signal parameters and maintaining linear operation.
        </p>

        <div class="evidence-grid">
          <img
            src="images/DC_Operating_points_OPAMP.png"
            alt="DC operating points of op-amp core"
          >
          <img
            src="images/DC_operating_points_CMFB.png"
            alt="DC operating points of CMFB circuit"
          >
        </div>

        <p>
          Extracted device parameters such as transconductance and output resistance were used to validate
          hand calculations and confirm consistency with theoretical expectations.
        </p>

        <div class="evidence-grid">
          <img
            src="images/OPAMP_Component_Parameters.png"
            alt="Op-amp component parameters"
          >
          <img
            src="images/CMFB_Component_Parameters.png"
            alt="CMFB component parameters"
          >
        </div>
      </div>

      <!-- AC ANALYSIS -->
      <div class="card">
        <h3>Small-Signal Frequency Response</h3>
        <p>
          Small-signal AC analysis was used to evaluate the open-loop gain, unity-gain bandwidth, and phase margin.
          The open-loop response confirms sufficient DC gain and dominant pole behavior, while the closed-loop
          response verifies stability when configured as a voltage follower.
        </p>

        <p><strong>Open-Loop Gain and Phase:</strong></p>
        <img
          src="images/Open_loop_Gain_Phase.png"
          alt="Open-loop gain and phase response"
          class="evidence-image"
        >

        <p><strong>Closed-Loop Frequency Response:</strong></p>
        <img
          src="images/Closed_Loop_Bode_Plot.png"
          alt="Closed-loop Bode plot"
          class="evidence-image"
        >

        <p>
          The amplifier achieves approximately <strong>47.5 dB DC gain</strong>,
          a <strong>616 MHz unity-gain bandwidth</strong>, and a
          <strong>61° phase margin</strong>, satisfying the design targets.
        </p>
      </div>

      <!-- TRANSIENT -->
      <div class="card">
        <h3>Transient and Large-Signal Performance</h3>
        <p>
          Transient simulations were performed to assess large-signal behavior, including slew rate,
          settling time, and stability under step inputs. These simulations confirm that the amplifier
          remains stable and well-damped during dynamic operation.
        </p>

        <img
          src="images/Large_Signal0_1V.png"
          alt="Large-signal transient response"
          class="evidence-image"
        >
      </div>

      <!-- SUMMARY -->
      <div class="card">
        <h3>Summary</h3>
        <ul class="bullets">
          <li>Designed a two-stage CMOS op-amp with fully differential first stage and CMFB</li>
          <li>Verified correct biasing and operating regions through DC analysis</li>
          <li>Achieved high bandwidth and stable closed-loop operation</li>
          <li>Validated large-signal performance via transient simulations</li>
        </ul>
      </div>

    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>© <span id="year"></span> Yusuf Hasan</p>
    </div>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
